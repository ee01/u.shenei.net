define("common:widget/ui/arch/app",function(t){function i(t){this.pageModel=t,this.router=new n(t),this.isReady=!1,this._readyFunc=[]}var e=t("common:widget/ui/base/base"),n=t("common:widget/ui/arch/router");return e.extend(i.prototype,{init:function(){this.isReady=!0;for(var t;t=this._readyFunc.shift();)t&&t()},setRoute:function(t){this.pageModel.set(t)},run:function(){this.router.dispatch()},ready:function(t){this.isReady?t&&t():this._readyFunc.push(t)}}),i});