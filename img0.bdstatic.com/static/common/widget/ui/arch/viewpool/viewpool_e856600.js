define("common:widget/ui/arch/ViewPool/ViewPool",function(i){var t=i("common:widget/ui/arch/base/base"),e=i("common:widget/ui/arch/Component/Component"),o=t.Class(function(){this._pool={},this._views={},e.apply(this,arguments)},e).extend({register:function(i,t,e){this._views[i]={view:t,factory:!!e,init:!1}},acquire:function(i,t,e){var o=null;if(this._pool[i]&&this._pool[i].length>0)return o=this._pool[i].pop(),this.dispatchEvent("out"),o;var n=this._views[i];return"function"==typeof n.view?(n.factory?o=n.view():(o=new n.view,void 0===t&&o.init()),"function"==typeof t&&(e=e||null,t.call(e,o),n.init=!0),o.addEventListener("release",function(){this.release(i,o)},this),this.dispatchEvent("new"),o):void 0},getSize:function(i){return this._pool[i]?this._pool[i].length:null},release:function(i,t){this._pool[i]||(this._pool[i]=[]),this._pool[i].push(t),this.dispatchEvent("in")}});return o});