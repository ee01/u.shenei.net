define("common:widget/ui/suggest/inputwatcher",function(t,e,i){var n=t("common:widget/ui/base/base"),r=t("common:widget/ui/base/events"),u=function(t){this.$el=t.el,this.timer=null,this.duration=t.duration||31,this._currentValue=this._originValue=this.$el.val(),this._setupEvent()};n.extend(u.prototype,r,{_setupEvent:function(){var t=this,e=this.$el;e.keydown(function(e){var i=0;switch(e.keyCode){case 38:i="up",e.preventDefault();break;case 40:i="down",e.preventDefault();break;case 13:i="enter",e.preventDefault()}t.trigger("key."+i)}),e.focus(function(){t.start()}),e.blur(function(){t.stop(),t.trigger("blur")}),e.click(function(t){t.stopPropagation()})},start:function(){clearInterval(this.timer);var t=this,e=this.$el.val();return this.trigger("change",{value:e}),this.timer=setInterval(function(){t.check()},this.duration),this},stop:function(){return clearInterval(this.timer),this},check:function(){var t=this.$el.val();t!==this._currentValue&&(this._currentValue=this._originValue=t,this.trigger("change",{value:t}))},setValue:function(t){return this._currentValue=t,this.$el.val(t),this},getValue:function(){return this.$el.val()},getOriginValue:function(){return this._originValue}}),i.exports=u});