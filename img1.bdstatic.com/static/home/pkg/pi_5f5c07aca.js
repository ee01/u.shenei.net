;define("home:widget/ui/statistic/statistic",function(e,t,o){{var n=e("common:widget/ui/base/base"),i=e("common:widget/ui/monitorRequest/monitorRequest"),s=(e("common:widget/ui/base/events"),e("common:widget/ui/utils/utils"));o.exports=function(){function e(e,t){var o=r+"4.gif",n={},i=t.p;return n.p=i,n.hostfr="imgstat",n.col=t.col,"object"==typeof t&&(n=s.jsonToQuery(t)),{host:o,query:n,isAsyn:!1}}function t(e,t){var o=r+"4.gif",n={};return"string"==typeof t&&(t=s.jsonToQuery(t)),"object"==typeof t&&(t=s.jsonToQuery(t)),n.p=t.p,n.fm=t.fm,n.pos=t.pos,"object"==typeof t&&(n=s.jsonToQuery(t)),{host:o,query:n,isAsyn:!1}}function o(e,t,o){if(null!=e)for(var n=e||window.event,s=n.srcElement||n.target;s.parentNode!=document.body&&s.tagName&&"a"!=s.tagName.toLowerCase();)s=s.parentNode;else var s=document.body;"undefined"==typeof o&&(o={});var r=a[t];if("undefined"!=typeof r){var u=r.apply(this,[s,o,n]),c=u.host,d=u.query;d.tn="index";var m=i(c+"?"+d);return m}}var r="../imgstat.baidu.com/",a=((new Date).getTime(),new Date,{10:e,1111101:t,1111102:t,1111103:t});return window.p=o,n(document).delegate("[data-nsclick]","mousedown",function(){$tar=n(this);var e=n(this).attr("data-nsclick");e=s.queryToJson(e),window.p(event,10,e)}),o}()}});
;define("home:widget/ui/mask/mask",function(){return appSetMask={init:function(t){this.opts=$.extend({maskBg:"#000",maskIndex:1001,maskOpacity:60},t||{}),this.setMask()},maskHtml:function(){var t=this,i="",n=t.opts.maskOpacity/100;return i=$('<div id="imgMask" style="position:absolute; top:0px ;left:0px; z-index:'+t.opts.maskIndex+"; background:"+t.opts.maskBg+";filter:alpha(opacity="+t.opts.maskOpacity+");-moz-opacity:"+n+";-khtml-opacity:"+n+";opacity:"+n+';"></div>')},setMask:function(){var t=this,i=$("#imgMask");i.length||(i=t.maskHtml().appendTo(document.body),t.bindMaskEvent());var n=t.opts.maskOpacity/100;i.css({background:t.opts.maskBg,"z-index":t.opts.maskIndex,opacity:n}),t.fullScreen(i).show(),$(window).bind("resize scroll",function(){t.fullScreen(i)})},bindMaskEvent:function(){var t=this;$("#imgMask").bind("click",function(){t.triggerClick()})},triggerClick:function(){},fullScreen:function(t){var i=function(){var t=($(window).width(),$(document).innerHeight());return[$(window).width(),t]}();return t.css({width:i[0],height:i[1]})},hideMask:function(){$("#imgMask").hide()},destroy:function(){$("#imgMask").remove()}}});
;define("home:widget/ui/festival/newyear/newyear",function(i){var e=i("home:widget/ui/mask/mask"),o={logo:".s_home_festival_logo",luck:"#newYearLuckBox",luckpic:".new-year-info-luck",close:".new-year-info-close",message:".new-year-info-msg",arrow:".new-year-info-arrow",imgarea:".img_area_container_box",luckRotate:"luck-rotate",fixHeight:423,refHeight:0,orginTop:0,destTop:0,offStep:48,minHeight:631,init:function(){var i=this;i.mask=e,i.luckObj=null,i.imgAreaObj=$(i.imgarea),i.luckPic=$(i.luckpic),i.closeObj=$(i.close),i.msgObj=$(i.message),i.arrowObj=$(i.arrow),i.bindLogoEvent()},bindLogoEvent:function(){var i=this,e=$(i.logo),o=$(i.luck);i.luckObj=o,e.bind("click",function(){i.setLuckBox(),i.showLuck(),i.showMask()}),i.luckObj.bind("click",function(){i.hideLuck()}),i.mask.triggerClick=function(){i.hideLuck()}},setLuckBox:function(){var i=this,e=i.imgAreaObj.offset().top+i.imgAreaObj.height()+i.offStep;e<i.minHeight?i.minHeight:e,i.refHeight=e-i.fixHeight,i.orginTop=-(i.refHeight+i.fixHeight),i.luckObj.css({height:i.refHeight,top:i.orginTop})},showLuck:function(){var i=this;i.luckObj.show().animate({top:i.destTop+"px"},800,function(){i.luckPic.addClass(i.luckRotate),i.msgObj.show().animate({width:"192px"},300,function(){i.closeObj.fadeIn(),i.arrowObj.show().animate({height:"45px"},300)})})},hideLuck:function(){var i=this;i.luckPic.removeClass(i.luckRotate),i.msgObj.hide().width("0px"),i.closeObj.hide(),i.arrowObj.hide().height("0px"),i.luckObj.animate({top:i.orginTop+"px"},800),i.hideMask()},showMask:function(){var i=this;i.mask.init({maskIndex:2015,maskOpacity:50})},hideMask:function(){var i=this;i.mask.hideMask()}};return o});
;define("home:widget/ui/festival/festival",function(e){var i=e("home:widget/ui/festival/newyear/newyear"),t={activity:i};return t});
;define("home:widget/detectHttps/detectHttps",function(t,o,e){var i=t("common:widget/ui/base/base"),n=!1;e.exports.init=function(){var t=[0,0,0,0,0,0],o=function(o,e){t[o]=e},e=i.now(),a=["../https@img0.bdstatic.com/static/common/widget/shitu/images/drag_dot_area_92f55e0.gif","../https@img1.bdstatic.com/static/common/widget/shitu/images/drag_dot_area_92f55e0.gif","../https@img1.bdstatic.com/static/common/widget/shitu/images/drag_dot_area_92f55e0.gif","../https@imgstat.baidu.com/clientcon.gif","jsonp"],c=function(){var o=t.join(""),e=!1;""===o.replace(/1/g,"")?(n=!0,i(window).trigger("https.success",o),e=!0):o.replace(/0/g,"").length===a.length&&(i(window).trigger("https.error",o),e=!0),e&&i(window).trigger("https.complete",o)};i.ajax({url:"../https@image.baidu.com/httpsjsonp/pc",dataType:"jsonp",jsonpCallback:"imageCheckHttps",success:function(t){t&&0===parseInt(t.code,10)?o(4,1):o(4,2)},error:function(){o(4,2)},complete:function(){c()}}),i.each(a,function(t,i){if("jsonp"!==i){var n=new Image,a=function(){n.onload=n.onerror=n.onabort=null,c()};n.onload=function(){o(t,1),a()},n.onabort=n.onerror=function(){o(t,2),a()},n.src=i+(-1===i.indexOf("?")?"?":"&")+"_="+e}})},e.exports.getImageHttps=function(t,o){return n&&t&&"string"==typeof t?(0===t.indexOf("/")&&(t=location.protocol+"//"+location.host+t),o&&0!==t.indexOf("./")?t:0===t.indexOf("http://")?t.replace("http:","https:"):t):t}});
;define("home:widget/ui/imgarea/imgarea",function(i){var e=i("common:widget/ui/base/base"),t=i("home:widget/detectHttps/detectHttps"),n={imgLink:".img_link_layer",imgInst:".img_instr_layer",imgMask:".img_mask_layer",imgCover:".img_cover_layer",imgObj:".img_pic_wrap_layer",imgPic:".img_pic_layer",init:function(){var i=this,n=e(i.imgObj).height(),r=e(i.imgObj).width(),s=e.browser.msie&&6==parseInt(e.browser.version)?!0:!1,a=e.browser.msie&&7==parseInt(e.browser.version)?!0:!1,o=function(i){i=i.target||i,e(i).addClass(i.width>i.height?"horizontal":"vertical"),(a||s)&&(e(i).addClass("quirk"),e(i).css("top",(i.height-n)/2).css("left",(r-i.width)/2))};e(i.imgPic).on("load",o).each(function(i,e){e.height&&o(e)}),e.browser.msie||e(".img_link_layer").each(function(i,e){e.ondragstart=function(i){return i.stopPropagation?i.stopPropagation():i.cancelBubble=!0,!0}}),e(window).one("https.success",function(){e(i.imgLink).attr("href",function(i,e){return t.getImageHttps(e,!0)})})},bindImgEvent:function(){var i=this,t=e(i.imgObj),n=e(i.imgMask),r=e(i.imgInst),s=function(i){i.mousedown(function(){var e=i.index(this);t.eq(e).css("z-index","101")}).mouseup(function(){var e=i.index(this);t.eq(e).css("z-index","97")})};e.browser.msie&&(s(n),s(r))}};return n});
;define("home:widget/ui/share/share",function(e){$=e("common:widget/ui/base/base");var t={shareSite:".share_kinds_site",shareCtrCls:"share_ctrl_close",shareBtns:".share_to_site",siteIconPosDef:0,siteIconPosCur:40,init:function(e){var t=this;t.shareWinTop=window.screen.height/2-250,t.shareWinLeft=window.screen.width/2-300,t.shareData=e,t.showCtrBox(),t.bindShareEvents()},showCtrBox:function(){},bindShareEvents:function(){{var e=this;$(e.shareSite)}$(e.shareBtns).click(function(){var t=$(this),r=t.attr("act-type");e.shareOpen(r,e.shareData.title,e.shareData.content,e.shareData.fromUrl,e.shareData.picSrc)})},shareOpen:function(e,t,r,n,s){var a=this;t=encodeURIComponent(t),r=encodeURIComponent(r),n=encodeURIComponent(n),s=encodeURIComponent(s);var i={weibo:"../service.weibo.com/share/share.php",qqzone:"../sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",renren:"../widget.renren.com/dialog/share",douban:"../www.douban.com/share/service"},o={weibo:"pic="+s+"&title="+r.replace(/&nbsp;/g," ").replace(/<br \/>/g," ")+"&url="+n+"&appkey=1343713053&searchPic=true",qqzone:"title="+t+"&site=&url="+n+"&summary="+r+"&pics="+s,renren:"title="+t+"&srcUrl="+n+"&title=&description="+r+"&resourceUrl="+s,douban:"name="+t+"&image="+s+"&text="+r+"&href="+n},h=i[e]+"?"+o[e];window.open(h,"_blank","scrollbars=no,width=600,height=500,left="+a.shareWinLeft+",top="+a.shareWinTop+",status=no,resizable=yes")}};return t});
;define("home:widget/ui/dot/dot",function(t){var o=t("common:widget/ui/base/base"),e=t("home:widget/detectHttps/detectHttps"),n=function(o){var n={},i=mouseOutTimer=null,c=function(t){n=o.extend({dot:".wrapper_dot_box",con:".dot_center_info",circle:".dot_center_circle",conlink:".dot_info_link",dotinfo:{url:"",desc:"",left:-100,top:-39,style:0,fcolor:"#404143"}},t||{}),a(n.dotinfo),s(),d()},a=function(t){var e=0==t.style?"dot_white":"dot_black";o(n.dot).css({left:t.left,top:t.top}).data({left:t.left,top:t.top}).addClass(e),o(n.conlink).attr("href",t.url).html(t.desc).css("color",t.fcolor),o(n.conlink).mouseover(function(){var e=o(this);e.css("color",t.fcolor)})},s=function(){o(n.dot).show()},d=function(){var c,a,s,d,r,u,l=o(n.dot),f=o(n.con),p=o(n.circle),h=(o(n.conlink),0);l.hover(function(){var e=o(this);mouseOutTimer&&clearTimeout(mouseOutTimer),i=setTimeout(function(){s=e.data("width"),d=e.data("height"),c=r=e.data("top"),a=u=e.data("left");var t=document,n="BackCompat"==t.compatMode?t.body:t.documentElement,i=n.clientHeight,l=o(window).width();a=l*parseInt(a)/100,c=i*parseInt(c)/100;var h=f.width()+12,m=f.height()+12,w=(h-s)/2,v=(m-d)/2,g=a-w,_=v>0?c-v:c;m=v>0?m:d,g=g/l*100+"%",_=_/i*100+"%",p.stop(!0,!1).animate({opacity:0},10,function(){e.stop(!0,!1).animate({left:g,top:_,width:h,height:m},100),f.css({top:"6px",left:"6px"}).fadeIn(80)})},100),0==h&&(h=1,t.async(["home:widget/ui/statistic/statistic"],function(t){t(null,10,{event_type:"shitu.hover",p:1800104,tn:"index"})}))},function(){var t=o(this);i&&clearTimeout(i),mouseOutTimer=setTimeout(function(){f.hide().css({top:"40px",left:"0px"}),t.stop(!0,!1).animate({left:u,top:r,width:s,height:d},100,function(){p.stop(!0,!1).animate({opacity:1},10)})},100)}),o(window).one("https.success",function(){o(n.conlink).attr("href",function(t,o){return e.getImageHttps(o,!0)})})};return{init:c}}(o);return n});
;define("home:widget/ui/skin/skin",function(i){function n(i){var n=this;n.opts=$.extend({skinObj:".wrapper_skin_box",skinImg:".wrapper_skin_img",skinDotFn:function(){},skinShareFn:function(){}},i||{}),n.skinObj=n.opts.skinObj,n.skinImg=n.opts.skinImg,n.skinDotFn=n.opts.skinDotFn,n.skinShareFn=n.opts.skinShareFn,n.fromW=0,n.init()}return $=i("common:widget/ui/base/base"),n.prototype={init:function(){var i=this;return window.skinData?void i.setSkin(window.skinData):!1},setSkin:function(i){var n=this,o=parseInt($.browser.version),s=$(n.skinObj);i.bgColor||(i.bgColor="#000"),i.icon&&$("body").addClass(i.icon),i.lookme&&$(".lookme img").attr("src",i.lookme).show();var r=$(window).width(),t=$("body"),e=t.find(".wrapper_imgfrom_box"),a=(t.find(".wrapper_share_site_box"),t.find(".share2ndFrom .wrapper"));if(0===n.fromW){var d=e.width();if(e.height()>16&&(e.css("left","0"),d=e.width(),e.removeAttr("style")),e.eq(1).length){var k=e.eq(1).width();k>d&&(d=k)}n.fromW=d}161+n.fromW+40>r/2-135&&(a.width(111+n.fromW),a.css("min-width",111+n.fromW+"px"),t.addClass("clamp2")),i&&i.dot&&i.dot.desc&&0!=i.dot.desc.length&&n.skinDotFn.init({dotinfo:i.dot}),i&&i.share&&n.skinShareFn.init(i.share),$.browser.msie&&"6"==o&&($("body").css({"background-image":"url("+i.src+")","background-color":i.bgColor}).addClass("wrapp_skin_hack"),s.remove())}},n});
;define("home:widget/ui/app/app",function(e){var i=(e("common:widget/ui/base/base"),e("home:widget/ui/dot/dot"),e("home:widget/ui/skin/skin"),e("home:widget/ui/imgarea/imgarea")),t=(e("home:widget/ui/share/share"),e("home:widget/ui/statistic/statistic")),a={init:function(){i.init(),t(null,10,{event_type:"pv",p:1800001,tn:"index"}),window.speed&&speed.mark("app_ready")}};return a});
;define("home:widget/header/header",function(e,n,t){var i=e("common:widget/ui/base/base"),a=function(){var n=function(){e.async(["common:widget/ui/base/EventDispatcher"],function(e){e.eventCenter.addEventListener("updateHeaderWidth",function(e){var n=parseInt(e.theWidth,10)||980;i(".mod-channel-nav .box-wrapper").width(n),i.cookie.set("the_nav_width",n,{expires:2592e3})})})};return{init:n}}();t.exports=a});
;define("home:widget/searchHomeUserinfo/searchHomeUserinfo",function(e,n,t){{var o=e("common:widget/ui/base/base");e("home:widget/ui/statistic/statistic")}t.exports=function(){var e=function(){o("#new-userinfo-feedback").addClass(window.ActiveXObject||"ActiveXObject"in window?"collect-link-btn":"new-userinfo-feedback").attr("data-nsclick","tn=index&p=1800103&event_type=top.nav.click&col="+encodeURIComponent("收藏本页"));var e=navigator.userAgent.toLowerCase(),n=navigator.platform.toLowerCase();setTimeout(function(){function t(){var e;c.onmouseover=i.onmouseover=function(){clearTimeout(e),e=setTimeout(function(){i.style.display="block"},200)},c.onmouseout=i.onmouseout=function(){clearTimeout(e),e=setTimeout(function(){i.style.display="none"},200)}}var o,i=document.getElementById("collect-menu"),c=document.getElementById("new-userinfo-feedback");c&&i&&(o=i.getElementsByTagName("span")[0],-1!==n.indexOf("mac")&&(o.innerHTML="Command+D",i.className="collect-menu collect-mac-menu"),c.onclick=function(){try{window.external.addFavorite(window.location.href,document.title)}catch(e){try{window.sidebar.addPanel(document.title,window.location.href,"")}catch(e){t()}}},-1!==e.indexOf("safari")&&t())},500)};return{ini:e}}()});
;define("home:widget/searchBoxHome/searchBoxHome",function(e,o,r){var i=e("common:widget/ui/base/base"),s=function(){var o=!1,r=null,s=function(){i("#search #kw").focus(function(){i(".s_ipt_wr").addClass("active")}),i("#search #kw").blur(function(){i(".s_ipt_wr").removeClass("active")}),i("#search #kw").focus(function(){if(!o){o=!0;var s=i.cookie.get("sug");return"0"==s?!1:void e.async(["common:widget/ui/sug/sug"],function(e){if(!e)return!1;var o=i.browser.msie&&6==parseInt(i.browser.version)?!0:!1,s=i.browser.msie&&7==parseInt(i.browser.version)?!0:!1,t=o||s?11:9;e.init({sugProdName:"image",w:"kw"},{top:t,left:-7,width:47,page:1811103,$homeEl:i(".bd_home_wrapper")}),r=e})}}).focus()},t=function(){o&&r&&(r.updatePos(),r.updateWidth())};return{init:s,updateSug:t}}();r.exports=s});
;require.async(["common:widget/ui/base/base","common:widget/ui/utils/utils","home:widget/ui/app/app","home:widget/ui/statistic/statistic","home:widget/searchBoxHome/searchBoxHome","common:widget/ui/sugHistory/sugHistory","home:widget/detectHttps/detectHttps"],function(e,t,s,i,o,r,n){window.speed&&window.speed.mark("app_init"),window.p=i;var a=655,d=e("#wrapper_content_box"),c=(e("#wrapper_head_box"),e.browser.msie&&6==parseInt(e.browser.version)?!0:!1),w=e.browser.msie&&7==parseInt(e.browser.version)?!0:!1,h=e.browser.msie&&8===parseInt(e.browser.version)?!0:!1,p=t.pageResizer;p.init(100),p.start(),p.addEventListener("resizeEnd",function(){l()});var u=function(){e("body")[0].ondragstart=function(){return!1}},m=function(){o.updateSug()},l=function(){var t=document,s="BackCompat"==t.compatMode?t.body:t.documentElement,i=s.clientHeight,o=i;if(i>=a?(document.body.className="mar95",d.removeClass("wrapper_con_ret")):(document.body.className="mar75",d.addClass("wrapper_con_ret")),c){var r=document.documentElement.scrollHeight;r=r>i?r:i,e("body").height(r).addClass("wrapp_skin_hack")}if(w){var n=e("html");o>a?n.css("overflow-y","hidden"):n.css("overflow-y","scroll")}if(h){var p=e(".bidu_top_user_info");s.clientWidth<350?p.css("right","-20px"):p.css("right","0"),s.clientWidth<342?e("body").width(342):342===e("body").width()&&e("body").css("width","auto");var u=e(".wrapper_skin_img");u.width(u.parent().width())}orginWinHeight=o,g(),h&&(o>e(".bd_home_wrapper").height()?e("body").css("overflow-y","hidden"):e("body").css("overflow-y","scroll")),m(),v&&v.update(),e("#SugRecommend").hide()},g=function(){var t=e(window).width(),s=e(window).height(),i=e("body"),o=(e("#username_menu"),e(".more_link"));811>t&&!i.hasClass("s810")?i.addClass("s810"):(i.removeClass("s810"),o.is(":visible")&&o.hide()),1281>t&&t>564&&!i.hasClass("w1280")?i.addClass("w1280"):i.removeClass("w1280"),v&&v.update(),880>s||o.css("min-height",s+"px");var r=e("#kw"),n=r.parent();r.outerWidth(n.outerWidth()-50)},b=e.cookie.get("indexPageSugList");try{b=b?e.json.parse(b):[]}catch(f){b=[]}var v=new r({offsetL:7,offsetT:9,page:1811103,query:"",$homeEl:e(".bd_home_wrapper"),samplekey:window.SAMPLEKEY});v.init(b),v.update&&e(window).on("resize",function(){v.update(),m()}),e(window).on("https.success",function(){v.sug&&v.sug.length&&v.sug.on("click","a.sugline",function(){this.href=n.getImageHttps(this.href)})}),u(),l(),s.init()});