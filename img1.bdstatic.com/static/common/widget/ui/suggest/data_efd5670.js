define("common:widget/ui/suggest/data",function(t,e,a){function r(t){return t+Math.random()+t.length}var i=t("common:widget/ui/base/base"),n=(t("common:widget/ui/utils/utils"),t("common:widget/ui/base/events")),o=function(t){t=t||{},this.urlPre=t.urlPre||"../www.baidu.com/sugrec",this.getSam()<50};i.extend(o.prototype,n,{getSam:function(t){var e=0;if(t||(t=i.cookie("BAIDUID")||""),!t)return 0;t=t.replace(":FG=1","")+":FG=1";for(var a=0;a<t.length;a++)e=31*e+t.charCodeAt(a),e%=4294967296;var r=e%101;return r},getData:function(t){t=t||"",this._querySign=r(t),this._origin=t,this.doRequest(t)},doRequest:function(t){var e=this;if(t){var a=this._querySign;i.ajax(this.urlPre,{dataType:"jsonp",jsonp:"cb",data:{ie:"utf-8",wd:t,prod:"open_image",t:Math.random()}}).done(function(t){if(a===e._querySign){var r=e.formatData(t);r.length>0?e.trigger("data.ready",{data:r}):e.trigger("data.empty")}})}else this.trigger("data.empty")},formatData:function(t){for(var e=t.g||[],a=t.q,r=[],i=0,n=e.length;n>i;i++)r.push({text:e[i].q.replace(a,"<em>"+a+"</em>"),value:e[i].q});return r}}),a.exports=o});