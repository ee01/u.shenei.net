define("common:widget/ui/arch/behavior/pageresizer",function(i){var t=i("common:widget/ui/base/base"),e=i("common:widget/ui/base/events"),n={_timer:null,_isInit:!1,_isRunning:!1,_lastNotifyTime:-1,tick:200,duration:400,curWidth:-1,curHeight:-1,init:function(i){var e=t.extend({tick:200,duration:400,resizeHeight:!0},i);return this._isInit?this:(this.resizeHeight=e.resizeHeight,t.browser.msie&&t.browser.version<=8&&(this._resizeing=this.resizing,this.resizing=this.resizingIE7),this.tick=e.tick,this.duration=e.duration,this.lastWidth=t(window).width(),this._isInit=!0,this)},isInited:function(){return this._isInit},start:function(){this._isRunning||(t(window).bind("resize",this.resizing),this._isRunning=!0)},stop:function(){t(window).unbind("resize",this.resizing),this._isRunning=!1},resizingIE7:function(){var i=t(window).width(),e=t(window).height();-1===n.curWidth&&(n.curWidth=i,n.curHeight=e),this.resizeHeight||n.curWidth==i?!this.resizeHeight||n.curWidth==i&&n.curHeight==e||(n.curWidth=i,n.curHeight=e,n._resizeing()):(n.curWidth=i,n._resizeing())},resizing:function(){var i=(new Date).getTime(),e=t(window).width();e!==n.lastWidth&&(n.lastWidth=e,n._timer?(clearTimeout(n._timer),n._lastNotifyTime=i,n._timer=setTimeout(n.resizeFinished,n.tick),-1!=n._lastNotifyTime&&i-n._lastNotifyTime>=n.duration&&n.notifyReszing(i)):(n.dispatchEvent("resizeBegin"),n._timer=setTimeout(n.resizeFinished,n.tick),n._lastNotifyTime=i))},resizeFinished:function(){n.notifyReszing(),n.dispatchEvent("resizeEnd"),n._lastNotifyTime=-1,n._timer=null},notifyReszing:function(i){this._lastNotifyTime=i,this.dispatchEvent("resizing")}};return t.extend(n,e),n});